{"version":3,"file":"lenis.modern.mjs","sources":["../node_modules/.pnpm/tiny-emitter@2.1.0/node_modules/tiny-emitter/index.js","../node_modules/.pnpm/virtual-scroll@2.2.1/node_modules/virtual-scroll/lib/virtualscroll.js","../src/lenis.js","../src/maths.js"],"sourcesContent":["function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e||self).virtualScroll=t()}(this,function(){var e=0;function t(t){return\"__private_\"+e+++\"_\"+t}function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError(\"attempted to use private field on non-instance\");return e}function n(){}n.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function o(){n.off(e,o),t.apply(i,arguments)}return o._=t,this.on(e,o,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],o=[];if(n&&t)for(var s=0,h=n.length;s<h;s++)n[s].fn!==t&&n[s].fn._!==t&&o.push(n[s]);return o.length?i[e]=o:delete i[e],this}};var o=n;o.TinyEmitter=n;var s,h=\"virtualscroll\",r=t(\"options\"),a=t(\"el\"),l=t(\"emitter\"),u=t(\"event\"),c=t(\"touchStart\"),d=t(\"bodyTouchAction\");return function(){function e(e){var t=this;Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this._onWheel=function(e){var n=i(t,r)[r],o=i(t,u)[u];o.deltaX=e.wheelDeltaX||-1*e.deltaX,o.deltaY=e.wheelDeltaY||-1*e.deltaY,s.isFirefox&&1===e.deltaMode&&(o.deltaX*=n.firefoxMultiplier,o.deltaY*=n.firefoxMultiplier),o.deltaX*=n.mouseMultiplier,o.deltaY*=n.mouseMultiplier,t._notify(e)},this._onMouseWheel=function(e){var n=i(t,u)[u];n.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,n.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,t._notify(e)},this._onTouchStart=function(e){var n=e.targetTouches?e.targetTouches[0]:e;i(t,c)[c].x=n.pageX,i(t,c)[c].y=n.pageY},this._onTouchMove=function(e){var n=i(t,r)[r];n.preventTouch&&!e.target.classList.contains(n.unpreventTouchClass)&&e.preventDefault();var o=i(t,u)[u],s=e.targetTouches?e.targetTouches[0]:e;o.deltaX=(s.pageX-i(t,c)[c].x)*n.touchMultiplier,o.deltaY=(s.pageY-i(t,c)[c].y)*n.touchMultiplier,i(t,c)[c].x=s.pageX,i(t,c)[c].y=s.pageY,t._notify(e)},this._onKeyDown=function(e){var n=i(t,u)[u];n.deltaX=n.deltaY=0;var o=window.innerHeight-40;switch(e.keyCode){case 37:case 38:n.deltaY=i(t,r)[r].keyStep;break;case 39:case 40:n.deltaY=-i(t,r)[r].keyStep;break;case 32:n.deltaY=o*(e.shiftKey?1:-1);break;default:return}t._notify(e)},i(this,a)[a]=window,e&&e.el&&(i(this,a)[a]=e.el,delete e.el),s||(s={hasWheelEvent:\"onwheel\"in document,hasMouseWheelEvent:\"onmousewheel\"in document,hasTouch:\"ontouchstart\"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:\"onkeydown\"in document,isFirefox:navigator.userAgent.indexOf(\"Firefox\")>-1}),i(this,r)[r]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:\"vs-touchmove-allowed\",useKeyboard:!0,useTouch:!0},e),i(this,l)[l]=new o,i(this,u)[u]={y:0,x:0,deltaX:0,deltaY:0},i(this,c)[c]={x:null,y:null},i(this,d)[d]=null,void 0!==i(this,r)[r].passive&&(this.listenerOptions={passive:i(this,r)[r].passive})}var t=e.prototype;return t._notify=function(e){var t=i(this,u)[u];t.x+=t.deltaX,t.y+=t.deltaY,i(this,l)[l].emit(h,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:e})},t._bind=function(){s.hasWheelEvent&&i(this,a)[a].addEventListener(\"wheel\",this._onWheel,this.listenerOptions),s.hasMouseWheelEvent&&i(this,a)[a].addEventListener(\"mousewheel\",this._onMouseWheel,this.listenerOptions),s.hasTouch&&i(this,r)[r].useTouch&&(i(this,a)[a].addEventListener(\"touchstart\",this._onTouchStart,this.listenerOptions),i(this,a)[a].addEventListener(\"touchmove\",this._onTouchMove,this.listenerOptions)),s.hasPointer&&s.hasTouchWin&&(i(this,d)[d]=document.body.style.msTouchAction,document.body.style.msTouchAction=\"none\",i(this,a)[a].addEventListener(\"MSPointerDown\",this._onTouchStart,!0),i(this,a)[a].addEventListener(\"MSPointerMove\",this._onTouchMove,!0)),s.hasKeyDown&&i(this,r)[r].useKeyboard&&document.addEventListener(\"keydown\",this._onKeyDown)},t._unbind=function(){s.hasWheelEvent&&i(this,a)[a].removeEventListener(\"wheel\",this._onWheel),s.hasMouseWheelEvent&&i(this,a)[a].removeEventListener(\"mousewheel\",this._onMouseWheel),s.hasTouch&&(i(this,a)[a].removeEventListener(\"touchstart\",this._onTouchStart),i(this,a)[a].removeEventListener(\"touchmove\",this._onTouchMove)),s.hasPointer&&s.hasTouchWin&&(document.body.style.msTouchAction=i(this,d)[d],i(this,a)[a].removeEventListener(\"MSPointerDown\",this._onTouchStart,!0),i(this,a)[a].removeEventListener(\"MSPointerMove\",this._onTouchMove,!0)),s.hasKeyDown&&i(this,r)[r].useKeyboard&&document.removeEventListener(\"keydown\",this._onKeyDown)},t.on=function(e,t){i(this,l)[l].on(h,e,t);var n=i(this,l)[l].e;n&&n[h]&&1===n[h].length&&this._bind()},t.off=function(e,t){i(this,l)[l].off(h,e,t);var n=i(this,l)[l].e;(!n[h]||n[h].length<=0)&&this._unbind()},t.destroy=function(){i(this,l)[l].off(),this._unbind()},e}()});\n","import EventEmitter from 'tiny-emitter'\nimport VirtualScroll from 'virtual-scroll'\nimport { clamp, lerp } from './maths.js'\n\nexport default class Lenis extends EventEmitter {\n  constructor({\n    lerp = 0.1,\n    smooth = true,\n    direction = 'vertical',\n    wrapper = window,\n    content = document.body,\n  } = {}) {\n    super()\n\n    this.wrapperNode = wrapper\n    this.contentNode = content\n\n    this.lerp = lerp\n    this.smooth = smooth\n    this.direction = direction\n\n    this.wrapperNode.addEventListener('scroll', this.onScroll, false)\n\n    const platform =\n      navigator?.userAgentData?.platform || navigator?.platform || 'unknown'\n\n    // listen and normalize wheel event cross-browser\n    this.virtualScroll = new VirtualScroll({\n      el: this.wrapperNode,\n      firefoxMultiplier: 50,\n      mouseMultiplier: platform.indexOf('Win') > -1 ? 1 : 0.4,\n      useKeyboard: false,\n      useTouch: false,\n      passive: false,\n    })\n\n    this.virtualScroll.on(this.onVirtualScroll)\n\n    //observe wrapper node size\n    if (this.wrapperNode === window) {\n      this.wrapperNode.addEventListener('resize', this.onWindowResize, false)\n      this.onWindowResize()\n    } else {\n      this.wrapperHeight = this.wrapperNode.offsetHeight\n      this.wrapperWidth = this.wrapperNode.offsetWidth\n\n      //observe wrapper node size\n      this.wrapperObserver = new ResizeObserver(this.onWrapperResize)\n      this.wrapperObserver.observe(this.wrapperNode)\n    }\n\n    this.contentHeight = this.contentNode.offsetHeight\n    this.contentWidth = this.contentNode.offsetWidth\n\n    //observe content node size\n    this.contentObserver = new ResizeObserver(this.onContentResize)\n    this.contentObserver.observe(this.contentNode)\n\n    //set initial scroll position\n    this.targetScroll = this.scroll = this.wrapperNode[this.scrollProperty]\n\n    this.velocity = 0\n  }\n\n  get scrollProperty() {\n    let property\n    if (this.wrapperNode === window) {\n      property = this.direction === 'horizontal' ? 'scrollX' : 'scrollY'\n    } else {\n      property = this.direction === 'horizontal' ? 'scrollLeft' : 'scrollTop'\n    }\n    return property\n  }\n\n  start() {\n    this.stopped = false\n  }\n\n  stop() {\n    this.stopped = true\n  }\n\n  destroy() {\n    if (this.wrapperNode === window) {\n      this.wrapperNode.removeEventListener('resize', this.onWindowResize, false)\n    }\n    this.wrapperNode.removeEventListener('scroll', this.onScroll, false)\n\n    this.virtualScroll.destroy()\n    this.wrapperObserver?.disconnect()\n    this.contentObserver.disconnect()\n  }\n\n  onWindowResize = () => {\n    this.wrapperWidth = window.innerWidth\n    this.wrapperHeight = window.innerHeight\n  }\n\n  onWrapperResize = (entries) => {\n    const entry = entries[0]\n    if (entry) {\n      const rect = entry.contentRect\n      this.wrapperWidth = rect.width\n      this.wrapperHeight = rect.height\n    }\n  }\n\n  onContentResize = (entries) => {\n    const entry = entries[0]\n    if (entry) {\n      const rect = entry.contentRect\n      this.contentWidth = rect.width\n      this.contentHeight = rect.height\n    }\n  }\n\n  get limit() {\n    return this.direction === 'horizontal'\n      ? this.contentWidth - this.wrapperWidth\n      : this.contentHeight - this.wrapperHeight\n  }\n\n  onVirtualScroll = ({ deltaY, originalEvent: e }) => {\n    if (this.stopped) {\n      e.preventDefault()\n      return\n    }\n\n    // prevent native wheel scrolling\n    if (this.smooth && !e.ctrlKey) e.preventDefault()\n\n    this.targetScroll -= deltaY\n    this.targetScroll = clamp(0, this.targetScroll, this.limit)\n  }\n\n  raf() {\n    if (this.stopped || !this.smooth) return\n    // where smooth scroll happens\n\n    let lastScroll = this.scroll\n\n    // lerp scroll value\n    this.scroll = lerp(this.scroll, this.targetScroll, this.lerp)\n    if (Math.round(this.scroll) === Math.round(this.targetScroll)) {\n      this.scroll = lastScroll = this.targetScroll\n    }\n\n    this.velocity = this.scroll - lastScroll\n\n    if (this.scrolling) {\n      // scroll to lerped scroll value\n      this._scrollTo(this.scroll)\n      this.notify()\n    }\n\n    this.scrolling = this.scroll !== this.targetScroll\n  }\n\n  _scrollTo(value) {\n    this.direction === 'horizontal'\n      ? this.wrapperNode.scrollTo(value, 0)\n      : this.wrapperNode.scrollTo(0, value)\n  }\n\n  onScroll = (e) => {\n    if (this.stopped) return\n\n    // if scrolling is false we can estimate use isn't scrolling with wheel (cmd+F, keyboard or whatever). So we must scroll to without any easing\n    if (!this.scrolling || !this.smooth) {\n      // where native scroll happens\n\n      const lastScroll = this.scroll\n      this.targetScroll = this.scroll = this.wrapperNode[this.scrollProperty]\n      this.velocity = this.scroll - lastScroll\n      this.notify()\n    }\n  }\n\n  notify() {\n    this.emit('scroll', {\n      scroll: this.scroll,\n      limit: this.limit,\n      velocity: this.velocity,\n      direction: this.direction,\n      progress: this.scroll / this.limit,\n    })\n  }\n\n  scrollTo(target, { offset = 0, immediate = false } = {}) {\n    let value\n\n    if (typeof target === 'number') {\n      // Number\n      value = target\n    } else if (target === 'top') {\n      value = 0\n    } else if (target === 'bottom') {\n      value = this.limit\n    } else {\n      let node\n\n      if (typeof target === 'string') {\n        // CSS selector\n        node = document.querySelector(target)\n      } else if (target?.nodeType) {\n        // Node element\n        node = target\n      } else {\n        return\n      }\n\n      if (!target) return\n      let wrapperOffset = 0\n\n      if (this.wrapperNode !== window) {\n        const wrapperRect = this.wrapperNode.getBoundingClientRect()\n        wrapperOffset =\n          this.direction === 'horizontal' ? wrapperRect.left : wrapperRect.top\n      }\n      const rect = node.getBoundingClientRect()\n\n      value =\n        (this.direction === 'horizontal' ? rect.left : rect.top) +\n        this.scroll -\n        wrapperOffset\n    }\n\n    value += offset\n\n    this.targetScroll = value\n    this.scrolling = true\n\n    if (!this.smooth || immediate) {\n      this.scroll = value\n      this._scrollTo(this.scroll)\n    }\n  }\n}\n","export function clamp(min, input, max) {\n  return Math.max(min, Math.min(input, max))\n}\n\nexport function mapRange(in_min, in_max, input, out_min, out_max) {\n  return ((input - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min\n}\n\nexport function lerp(start, end, amt) {\n  return (1 - amt) * start + amt * end\n}\n\nexport function truncate(value, decimals) {\n  return parseFloat(value.toFixed(decimals))\n}\n"],"names":["E","prototype","on","name","callback","ctx","e","this","push","fn","once","self","listener","off","apply","arguments","_","emit","data","slice","call","evtArr","i","len","length","evts","liveEvents","tinyEmitter","module","exports","t","Object","hasOwnProperty","TypeError","n","o","s","h","TinyEmitter","r","a","l","u","c","d","defineProperty","writable","value","_onWheel","deltaX","wheelDeltaX","deltaY","wheelDeltaY","isFirefox","deltaMode","firefoxMultiplier","mouseMultiplier","_notify","_onMouseWheel","wheelDelta","_onTouchStart","targetTouches","x","pageX","y","pageY","_onTouchMove","preventTouch","target","classList","contains","unpreventTouchClass","preventDefault","touchMultiplier","_onKeyDown","window","innerHeight","keyCode","keyStep","shiftKey","el","hasWheelEvent","document","hasMouseWheelEvent","hasTouch","hasTouchWin","navigator","msMaxTouchPoints","hasPointer","msPointerEnabled","hasKeyDown","userAgent","indexOf","assign","useKeyboard","useTouch","passive","listenerOptions","originalEvent","_bind","addEventListener","body","style","msTouchAction","_unbind","removeEventListener","destroy","Lenis","EventEmitter","constructor","lerp","smooth","direction","wrapper","content","_navigator","_navigator$userAgentD","_navigator2","super","onWindowResize","wrapperWidth","innerWidth","wrapperHeight","onWrapperResize","entries","entry","rect","contentRect","width","height","onContentResize","contentWidth","contentHeight","onVirtualScroll","stopped","ctrlKey","targetScroll","Math","max","min","limit","onScroll","scrolling","lastScroll","scroll","wrapperNode","scrollProperty","velocity","notify","contentNode","platform","userAgentData","virtualScroll","VirtualScroll","offsetHeight","offsetWidth","wrapperObserver","ResizeObserver","observe","contentObserver","property","start","stop","_this$wrapperObserver","disconnect","raf","amt","round","_scrollTo","scrollTo","progress","offset","immediate","node","querySelector","nodeType","wrapperOffset","wrapperRect","getBoundingClientRect","left","top"],"mappings":"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"}