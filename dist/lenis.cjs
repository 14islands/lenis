var t=require("tiny-emitter"),o=require("virtual-scroll");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/e(t),l=/*#__PURE__*/e(o);function i(t,o){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},i(t,o)}module.exports=/*#__PURE__*/function(t){var o,e;function r(o){var e,r,i,n,s=void 0===o?{}:o,c=s.lerp,u=void 0===c?.1:c,a=s.smooth,d=void 0===a||a;(n=t.call(this)||this).onResize=function(t){var o=t[0];o&&(n.maxScroll=o.contentRect.height-n.windowHeight)},n.onWindowResize=function(){n.windowHeight=window.innerHeight,n.windowWidth=window.innerWidth},n.onVirtualScroll=function(t){var o,e,r=t.deltaY,l=t.originalEvent;(l.path||(null==l.composedPath?void 0:l.composedPath())).filter(function(t){return t.tagName}).find(function(t,o){return["auto","scroll"].includes(getComputedStyle(t).overflowY)&&t.scrollHeight>t.clientHeight})||(n.stopped?l.preventDefault():(n.smooth&&!l.ctrlKey&&l.preventDefault(),n.targetScroll-=r,n.targetScroll=(e=n.maxScroll,(o=n.targetScroll)<0?0:o>e?e:o)))},n.onScroll=function(t){n.scrolling&&n.smooth||(n.targetScroll=n.scroll=window.scrollY,n.emit("scroll",{scroll:n.scroll}))},n.lerp=u,n.smooth=d,window.addEventListener("scroll",n.onScroll,!1),window.addEventListener("resize",n.onWindowResize,!1);var h=(null==(e=navigator)||null==(r=e.userAgentData)?void 0:r.platform)||(null==(i=navigator)?void 0:i.platform)||"unknown";return n.virtualScroll=new l.default({firefoxMultiplier:50,mouseMultiplier:h.indexOf("Win")>-1?1:.4,useKeyboard:!1,useTouch:!1,passive:!1}),n.virtualScroll.on(n.onVirtualScroll),n.onWindowResize(),n.maxScroll=document.body.offsetHeight-n.windowHeight,n.resizeObserver=new ResizeObserver(n.onResize),n.resizeObserver.observe(document.body),n.targetScroll=n.scroll=window.scrollY,n}e=t,(o=r).prototype=Object.create(e.prototype),o.prototype.constructor=o,i(o,e);var n=r.prototype;return n.start=function(){this.stopped=!1},n.stop=function(){this.stopped=!0},n.destroy=function(){window.removeEventListener("scroll",this.onScroll,!1),window.removeEventListener("resize",this.onWindowResize,!1),this.virtualScroll.destroy(),this.resizeObserver.disconnect()},n.raf=function(){var t;this.smooth&&!this.stopped&&(this.scroll=(1-(t=this.lerp))*this.scroll+t*this.targetScroll,Math.round(this.scroll)===Math.round(this.targetScroll)&&(this.scroll=this.targetScroll),this.scrolling&&(window.scrollTo(0,this.scroll),this.emit("scroll",{scroll:this.scroll})),this.scrolling=this.scroll!==this.targetScroll)},n.scrollTo=function(t,o){var e,r=(void 0===o?{}:o).offset,l=void 0===r?0:r;if("number"==typeof t)e=t;else if("#top"===t)e=0;else if("#bottom"===t)e=this.maxScroll;else{var i;if("string"==typeof t)i=document.querySelector(t);else{if(null==t||!t.nodeType)return;i=t}if(!t)return;e=i.getBoundingClientRect().top+this.scroll}this.targetScroll=e+=l,this.scrolling=!0,this.smooth||(this.scroll=e)},r}(r.default);
//# sourceMappingURL=lenis.cjs.map
